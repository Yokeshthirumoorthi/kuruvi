/***********************************************************

		To generate architecture diagram, run the below
		command from the root of the project

		$ dot -Tpng docs/architecture-diagram.dot -o docs/img/architecture-diagram.png

************************************************************/

digraph finite_state_machine {
	rankdir=LR;
//	size="4,4";
	node [shape=polygon, sides=6]
	edge [arrowhead=none]

  // square brackets hold attributes
  ws [ label="Web \nServer" ]
	db_adapter [ label="DB Adapter \nService"]
  exif [ label="Exif \nService"]
	img_resize [ label="Image Resize \nService"]
	face_api [ label="Face Api \nService"]
	fs_manager [ label="FS Manager \nService"]
	fs [ label="File \nSystem"]
  db [ label="PGSQL" shape="square", rank="0" ]

	db -> db_adapter -> {ws, exif, face_api, img_resize}
	-> fs_manager -> fs
}
